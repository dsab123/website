<template>
    <require from="../css/summary.css"></require>
    <require from="aurelia-markdown"></require>
    <require from="../value-converters/summary-quality-filter"></require>
    <require from="../value-converters/summary-payoff-filter"></require>
    <require from="../value-converters/asset-context"></require>

    <div class="${dimSummaryContents ? 'dim-overlay outer' : 'outer'}">

        <p class="summary-book-title">${title}</p>
        <br>
        <p class="author">${author}</p>
        <br>

        <div class="metrics">
            <div class="metrics-titles">
                <p class="quality-title">Quality </p>
                <p class="payoff-title">Payoff </p>
            </div>
            <div class="metrics-measures">
                <p class="quality-measure">${quality | summaryQualityFilter}</p>
                <p class="payoff-measure">${payoff | summaryPayoffFilter}</p>
            </div>
        </div>
        <br>

        <div class="inner">
            <img class="summary-book-image" src="${image_uri | assetContext}"> 
            <div class="teaser-and-button">
                <p class="teaser">${teaser}</p>
                <a href="${link}" target="_blank"><img class="buy-button" src="../../../images/amazon-button.png"></a>
            </div>
        </div>

        <br>
        <p class="review">Review</p>
        <br>

        <p class="${dimSummaryContents ? 'dim-overlay summary-contents' : 'summary-contents'}">
            <markdown ref="summaryContents">
            </markdown>
        </p>

        <br>
        <p class="summary-contents">You can get yourself a copy of the book <a href="${link}" target="_blank">here</a>.</p>
        <br>
        <br>
    </div>

</template>